{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery-container')\nconst lightbox = new SimpleLightbox(\".gallery-container a\" , { \n            captions: true,\n            captionsData: 'alt',\n            captionDelay: 250\n});\n\nexport function createGallery(data) { \n    const galleryMarkup = data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n        { return`\n        <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          <div class=\"statictics\">\n            <div class = \"statictics-text\"><h3>Likes</h3><p> ${likes}</p></div>\n            <div class = \"statictics-text\"><h3>Views</h3><p>${views}</p></div>\n            <div class = \"statictics-text\"><h3>Comments</h3><p>${comments}</p></div>\n            <div class = \"statictics-text\"><h3>Downloads</h3><p>${downloads}</p></div>\n          </div>\n        </a></li>`;\n    }).join('');\n    switchLoaderClass()\n  gallery.insertAdjacentHTML('beforeend', galleryMarkup)\n\n  lightbox.refresh()\n  \n}\n\n\nexport function clearGallery() {\n  const clear = ''\n  gallery.innerHTML = clear\n}\n\nexport function switchLoaderClass() {\n  const loader = document.querySelector('.loader')\n  loader.classList.toggle('hidden')\n}\n\n\n","import { switchLoaderClass } from \"./render-functions\"\n\nexport function searchImagesProcess(value) {\n  const URL = \"https://pixabay.com/api/\"\n  const KEY = \"45377125-53da1a565bd8b37af868a9bcd\"\n  switchLoaderClass()\n  return fetch(`${URL}?key=${KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status)\n    } \n    return response.json();\n  }).catch((error) => {\n        iziToast.error({\n          position: \"topRight\",\n            message: `${error}`,\n        });\n      })\n}\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport { searchImagesProcess } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery } from \"./js/render-functions.js\";\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.form-input')\n\n\n\nform.addEventListener('submit', handleSearchImages)\n\nfunction handleSearchImages(event) {\n  event.preventDefault()\n  const inputValue = event.currentTarget.input.value.trim();\n  if (inputValue === '') {\n     iziToast.error({\n          message:\n            'Please enter your search query.',\n          position: 'topRight',\n     });\n    return clearGallery()\n    \n  } \n  \n  searchImagesProcess(inputValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n      iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      clearGallery()\n      createGallery(data.hits)\n    }).catch(error => {\n      iziToast.error({ title: 'Error', message: error.message });\n    }) .finally(() => {\n      input.value = '';\n    });\n}\n\n"],"names":["gallery","lightbox","SimpleLightbox","createGallery","data","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","switchLoaderClass","clearGallery","clear","searchImagesProcess","value","URL","KEY","response","error","form","input","handleSearchImages","event","inputValue","iziToast"],"mappings":"6vBAGA,MAAMA,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAW,IAAIC,EAAe,uBAAyB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GAC1B,CAAC,EAEM,SAASC,EAAcC,EAAM,CAChC,MAAMC,EAAgBD,EAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC5F;AAAA;AAAA,mBAEGL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,+DAEeC,CAAK;AAAA,8DACNC,CAAK;AAAA,iEACFC,CAAQ;AAAA,kEACPC,CAAS;AAAA;AAAA,kBAGtE,EAAE,KAAK,EAAE,EACVC,EAAmB,EACrBb,EAAQ,mBAAmB,YAAaK,CAAa,EAErDJ,EAAS,QAAS,CAEpB,CAGO,SAASa,GAAe,CAC7B,MAAMC,EAAQ,GACdf,EAAQ,UAAYe,CACtB,CAEO,SAASF,GAAoB,CACnB,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAClC,CCtCO,SAASG,EAAoBC,EAAO,CACzC,MAAMC,EAAM,2BACNC,EAAM,qCACZ,OAAAN,EAAmB,EACZ,MAAM,GAAGK,CAAG,QAAQC,CAAG,MAAMF,CAAK,0DAA0D,EAAE,KAAMG,GAAa,CACtH,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EAAE,MAAOC,GAAU,CACd,SAAS,MAAM,CACb,SAAU,WACR,QAAS,GAAGA,CAAK,EAC7B,CAAS,CACT,CAAO,CACP,CCXA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAIlDD,EAAK,iBAAiB,SAAUE,CAAkB,EAElD,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAgB,EACtB,MAAMC,EAAaD,EAAM,cAAc,MAAM,MAAM,OACnD,GAAIC,IAAe,GAChBC,OAAAA,EAAS,MAAM,CACV,QACE,kCACF,SAAU,UACpB,CAAM,EACKb,EAAc,EAIvBE,EAAoBU,CAAU,EAC3B,KAAKtB,GAAQ,CACRA,EAAK,KAAK,SAAW,GACzBuB,EAAS,MAAM,CACX,QACE,2EACF,SAAU,UACpB,CAAS,EAEHb,EAAc,EACdX,EAAcC,EAAK,IAAI,CAC7B,CAAK,EAAE,MAAMiB,GAAS,CAChBM,EAAS,MAAM,CAAE,MAAO,QAAS,QAASN,EAAM,OAAO,CAAE,CAC/D,CAAK,EAAG,QAAQ,IAAM,CAChBE,EAAM,MAAQ,EACpB,CAAK,CACL"}